<appendix xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xml:id="changelog"
          version="5.2">
<info>
<?db filename='changelog.html'?>
<title>Change log</title>
</info>

<revhistory>
<revision>
<revnumber>3.0.0c</revnumber>
<date>2023-07-09</date>
<revdescription>
<para>This is a beta release for version 3.0.0. There are a lot of
changes in this release and many of them impact the public APIs. The JavaDoc
has not yet been updated.</para>
<para>Version 3.0.0c depends on CoffeeGrinder 3.0.0c which fixes a bug
where a regular expression pragma would not successfully parse when
the regular expression matched the empty string.</para>
</revdescription>
</revision>
<revision>
<revnumber>3.0.0b</revnumber>
<date>2023-07-09</date>
<revdescription>
<orderedlist>
<listitem><para>Includes all of the updates in CoffeeGrinder 3.0.0b.
</para></listitem>
<listitem><para>Support the nonterminal renaming
<link xlink:href="https://lists.w3.org/Archives/Public/public-ixml/2023Jun/0030.html">proposal</link>.
This is an experimental feature. To use it, you must specify that the
grammar version is “<literal>1.1-nineml</literal>”.
</para></listitem>
<listitem><para>Fixed a quoting bug in XML output; switched to single quotes for
attributes (for greater consistency with previous releases).
</para></listitem>
<listitem><para>Cleaned up pragma processing; removed unused “token” pragma.
</para></listitem>
</orderedlist>
</revdescription>
</revision>
<revision>
<revnumber>3.0.0a</revnumber>
<date>2023-07-02</date>
<revdescription>
<orderedlist>
<listitem><para>Includes all of the updates in CoffeeGrinder 3.0.0a.
</para></listitem>
<listitem><para>Renamed the parser attributes used for pragmas to be URIs.
</para></listitem>
<listitem><para>Removed the “rewrite” pragma; it can be replaced with standard features:
deletion and insertion. Removed the default priority pragma because it didn’t actually seem
useful.
</para></listitem>
<listitem><para>Removed the notion of compiled grammars and the cache of compiled grammars.
</para></listitem>
<listitem><para>Refactored <classname>InvisibleXmlDocument</classname> to support the new
tree construction classes in CoffeeGrinder; added an <classname>InvisibleXmlFailureDocument</classname>
subclass to represent failed parses.
</para></listitem>
<listitem><para>Added an option to omit the headers when parsing to CSV.
</para></listitem>
<listitem><para>Lots of test improvements, rewrites.
</para></listitem>
</orderedlist>
</revdescription>
</revision>

<revision>
<revnumber>2.2.3</revnumber>
<date>2023-06-15</date>
<revdescription>
<para>Fixed a typo: <methodname>setStrictAmbiguity</methodname> was setting the wrong
internal flag.</para>
</revdescription>
</revision>

<revision>
<revnumber>2.2.2</revnumber>
<date>2023-06-15</date>
<revdescription>
<itemizedlist>
<listitem>
<para>Added options to enable and disable pragmas. Individual pragmas can be enabled or
disabled by name. Specify the name <code>#all</code> to enable or disable them all.</para>
</listitem>
<listitem>
<para>Added a <code>strictAmbiguity</code> option. If <code>strictAmbiguity</code> is true,
then a grammar will be marked ambiguous even if user-supplied priorities uniquely determined
every outcome. Added an event builder option to track whether or not any ambiguous choices
were made.</para>
</listitem>
<listitem>
<para>Added a warning message if a priority pragma is applied to a literal. Parsing doesn’t
distinguish between different occurrences of literals so the priority is unavailable when
resolving ambiguities.</para>
</listitem>
</itemizedlist>
</revdescription>
</revision>

<revision>
  <revnumber>2.2.1</revnumber>
  <date>2023-05-17</date>
  <revdescription>
    <para>Bumped version for dependency on CoffeeGrinder.</para>
  </revdescription>
</revision>
<revision>
  <revnumber>2.2.0</revnumber>
  <date>2023-05-06</date>
  <revdescription>
<itemizedlist>
<listitem>
<para>Leveraging changes to the CoffeeGrinder implementation, the priority
pragma now works correctly.
</para>
</listitem>
<listitem>
<para>References to “pruning” nonterminals has been removed (because it’s been
removed from CoffeeGrinder).
</para>
</listitem>
</itemizedlist>

  </revdescription>
</revision>
<revision>
  <revnumber>2.1.0</revnumber>
  <date>2023-04-23</date>
  <revremark>Updated the version number for parity with CoffeeGrinder and the other tools.
  There are no actually changes in this release.</revremark>
</revision>
<revision>
  <revnumber>2.0.3</revnumber>
  <date>2023-04-15</date>
  <revdescription>
    <para>Corrected the encoding of the C0 and C1 control characters. Changed the encoding of
    <literal>&gt;</literal> so that it is always encoded as <literal>&amp;gt;</literal>. (This assures
    that the output will never accidentally enclude <literal>]]&gt;</literal> which marks
    the end of a CDATA section.)</para>
  </revdescription>
</revision>
<revision>
  <revnumber>2.0.2</revnumber>
  <date>2023-04-14</date>
  <revdescription>
    <para>Fix encoding of characters per the
  <link xlink:href="https://www.w3.org/TR/xslt-xquery-serialization-31/#xml-output">XML Output Method</link>
  of <citetitle>XSLT and XQuery Serialization 3.1</citetitle>.</para>
  </revdescription>
</revision>
<revision>
  <revnumber>2.0.1</revnumber>
  <date>2023-04-13</date>
  <revdescription>
    <itemizedlist>
      <listitem>
        <para>Fixed <link xlink:href="https://github.com/nineml/coffeefilter/issues/98">#98</link>.
        Added an option to ignore the Unicode BOM on UTF-8 files. It’s
        enabled by default.</para>
      </listitem>
      <listitem>
        <para>Resolved <link xlink:href="https://github.com/nineml/coffeefilter/pull/97">#97</link>.
        Improved the encoding of carriage returns in the output. If a
        carriage return in the output is not followed by a line feed,
        it will be encoded as <code>&amp;#d;</code> so that an XML
        parse of the output won’t normalize it away.</para>
      </listitem>
      <listitem>
        <para>Fixed <link xlink:href="https://github.com/nineml/coffeefilter/issues/96">#96</link>.
        Improved error reporting. In the case where a parse fails with
        an unexpected character, if the character is not a visible ASCII character,
        the output includes the codepoint of the character.</para>
      </listitem>
      <listitem>
        <para>Tinkered with the GitHub branch workflow so that it won’t attempt to use the SSH private
        key if it isn’t configured as a secret.</para>
      </listitem>
    </itemizedlist>
  </revdescription>
</revision>
<revision>
  <revnumber>2.0.0</revnumber>
  <date>2023-04-10</date>
  <revremark>Making the 2.x code base the current release.</revremark>
</revision>
<revision>
  <revnumber>1.1.0</revnumber>
  <date>2022-04-16</date>
  <revdescription>
    <para>Support for the 15 April 2022 specification, version 1.1.0</para>
    <para>The most significant changes are:</para>
    <orderedlist>
      <listitem><para>The “<symbol>repeat0</symbol>” and “<symbol>repeat1</symbol>”
      separator characters are now doubled: “<literal>item*','</literal>” becomes
      “<literal>item**','</literal>”, and “<literal>item+','</literal>” becomes
      “<literal>item++','</literal>”.</para>
      </listitem>
      <listitem><para>The semantics of “^” before a literal have changed. It now
      signals an insertion. The grammar fragment “<literal>'a', ^'-', 'b'</literal>”
      matches an “a” followed <emphasis>immediately</emphasis> by a “b”, but the
      XML output will be “a-b”. The text marked “^” matches nothing but is inserted
      in the output. The insertion character
      <link xlink:href="https://github.com/invisibleXML/ixml/issues/72">may change</link>.
    </para>
      </listitem>
      <listitem><para>At least one whitespace character or comment is required
      between rules. (This is very unlikely to have any practical consequence
      since most grammar authors start a new rule on a new line. But where
      “<literal>a:'1'.b:'2'.</literal> used to be allowed, you must now
      write “<literal>a:'1'. b:'2'.</literal>. This avoids
      <link xlink:href="https://github.com/invisibleXML/ixml/issues/48">an ambiguity</link>
      in the grammar.)</para>
      </listitem>
    </orderedlist>
  </revdescription>
</revision>
<revision>
  <revnumber>1.0.0</revnumber>
  <date>2022-03-20</date>
  <revremark>Initial release, version 1.0.0</revremark>
</revision>
</revhistory>
</appendix>
